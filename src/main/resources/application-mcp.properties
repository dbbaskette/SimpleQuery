# Enable the Spring AI MCP Server
spring.ai.mcp.server.enabled=true
spring.ai.mcp.server.STDIO=true

# Basic server information
spring.ai.mcp.server.name=SimpleQuery-MCP-Server
spring.ai.mcp.server.version=0.0.1
spring.ai.mcp.server.uri=http://localhost:8080
spring.main.web-application-type=servlet

# MCP Server Configuration
spring.ai.mcp.server.endpoint=/mcp
spring.ai.mcp.server.sse.endpoint=/mcp/events
spring.ai.mcp.server.health.endpoint=/mcp/health
spring.ai.mcp.server.metrics.endpoint=/mcp/metrics

# Server Configuration
server.port=8080
server.servlet.context-path=/

# Database configuration
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.datasource.username=${DB_USERNAME:sa}
spring.datasource.password=${DB_PASSWORD:}
spring.jpa.hibernate.ddl-auto=${DB_DDL_AUTO:update}
spring.jpa.show-sql=${DB_SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=${DB_FORMAT_SQL:false}

# Disable banner and console logging for STDIO transport
spring.main.banner-mode=off
logging.pattern.console=

simplequery.dir=${user.home}/.simplequery

# Logging Configuration
logging.level.org.springframework.ai=DEBUG
logging.level.com.baskettecase.SimpleQuery=DEBUG
logging.level.io.modelcontextprotocol.server.transport=DEBUG
logging.level.io.modelcontextprotocol.client=DEBUG
logging.level.org.springframework.web=DEBUG
logging.file.name=${simplequery.dir}/simplequery-mcp.log

# Enable CORS for MCP endpoints
spring.ai.mcp.server.cors.allowed-origins=*
spring.ai.mcp.server.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.ai.mcp.server.cors.allowed-headers=*
spring.ai.mcp.server.cors.allow-credentials=true

# Enable actuator endpoints
management.endpoints.web.exposure.include=health,info,mcp
management.endpoint.health.show-details=always